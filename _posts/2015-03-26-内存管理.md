---

layout: post
title:  "NSNotificationCenter part 2: Implementing the observer pattern with notifications"
date: 2015-03-16
description: ""
category: 内存管理
tags: [内存管理]
comments: true
share: true

---


##内存管理

***************

* 对象通过alloc copy创建    retain count +1

* 对象 addXXX     retain count +1

* 现在对象的 retain count 为2

* 因为始终要保持 对象的 retain count 为1

* 所以 最后一次使用时也就是 addXXX之后要release  [对象 release]


* 当一个对象的 retain count 为0时将会被系统自动注销，系统会自动向对象发送一条dealloc消息也可以在自己的类中重写dealloc方法
-(void)dealloc{

[想要释放的已经分配的资源]；
[super dealloc];
}

* [super dealloc]要在 -(void)dealloc;中最后调用；

* autorelease的 只有在对象retain count +1 时才会被调用；